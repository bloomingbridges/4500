// MODULES ///////////////////////////////////////////////////////////
const POUCH = require('pouchdb-browser')
		, IPC = require('electron').ipcRenderer;
//////////////////////////////////////////////////////////////////////

// GLOBALS ///////////////////////////////////////////////////////////
// GLOBALS - CONNECT_DB //////////////////////////////////////////////
// Allows renderer.js to use node.js modules /////////////////////////
global.connectToDB = function( name ) {
	return new POUCH(name);
};
// GLOBALS - REPORT_PUBLICATION //////////////////////////////////////
global.reportPublication = function() {
	IPC.invoke('updateHistoryWindow');
}
//////////////////////////////////////////////////////////////////////

// IPC EVENTS ////////////////////////////////////////////////////////
IPC.on('command', ( event, message ) => {
	if (message === 'history') IPC.invoke('showHistoryWindow');
});
//////////////////////////////////////////////////////////////////////

// DOM_CONTENT_LOADED ////////////////////////////////////////////////
window.addEventListener('DOMContentLoaded', () => {
	// TODO - Don't show window before inital load /////////////////////
});
//////////////////////////////////////////////////////////////////////